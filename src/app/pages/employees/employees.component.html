<div class="header bg-gradient-danger1 pb-4 pt-5 pt-md-4">
    <div class="container-fluid">
        <div class="header-body">
            <!-- Card stats -->
            <div class="row my-2">
                <h2 class="text-white mx-3">Employees</h2>
            </div>
            <div class="row my-3">
                <div class="col">
                    <nz-input-group nzPrefixIcon="search" [nzSuffix]="inputClearTpl">
                        <input type="text" [(ngModel)]="searchTerm" (input)="search($event)" name="searchTerm" nz-input placeholder="Search" />
                    </nz-input-group>
                    <ng-template #inputClearTpl><i nz-icon class="ant-input-clear-icon" nzTheme="fill" nzType="close-circle" *ngIf="searchTerm" (click)="searchTerm = null; search()"></i></ng-template>
                </div>
                <div class="col-md-2 p-0 m-0">
                    <a [routerLink]="['add']">
                        <button class="btn btn-icon btn-3 btn-default btn-sm p-2" type="button" (click)="addEmployee()">
                            <span class="btn-inner--icon"><i class="fas fa-plus"></i></span>
                            <span class="btn-inner--text m-2">Add Employee</span>
                        </button>
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>

<nz-spin [nzSpinning]="initLoading">
    <div class="container-fluid mt-5">
        <div class="row">
            <div *ngFor="let employee of employeesList" class="col-lg-3 col-md-4 col-sm-6 p-3">
                <nz-card [nzLoading]="employee.loading" class="action-card" [nzBodyStyle]="{padding: '24px 12px'}" nzHoverable [nzActions]="[dmActions, dmStatus]">
                    <nz-card-meta [nzTitle]="employee?.fullName" [nzDescription]="descriptionTemplate" [nzAvatar]="avatarTemplate"></nz-card-meta>
                </nz-card>
                <ng-template #descriptionTemplate>
                    <span> {{employee?.position}}</span>
                </ng-template>
                <ng-template #dmActions>
                    <a nz-button nzType="link" nzBlock style="color:#52c41a;" [routerLink]="['edit' , employee?.id]" class="d-flex justify-content-center align-items-center">
                        <i class="d-inline" nz-icon nzType="edit" [nzTheme]="'twotone'" [nzTwotoneColor]="'#52c41a'"></i> Edit
                    </a>
                </ng-template>

                <ng-template #dmStatus>
                    <a nz-button nzType="link" nzBlock style="color:#f56036" [routerLink]="['details' , employee?.id]" class="d-flex justify-content-center align-items-center">
                        <i class="d-inline" nz-icon nzType="file" [nzTheme]="'twotone'" [nzTwotoneColor]="'#f56036'"></i> Details
                    </a>
                </ng-template>

                <ng-template #avatarTemplate>
                </ng-template>
            </div>
        </div>
    </div>
</nz-spin>

<div class="my-3" *ngIf="employeesList.length ==0 && !initLoading">
    <nz-empty [nzNotFoundContent]="contentTpl">
        <ng-template #contentTpl>
            <span class="my-2">There is no employee with this name</span>
        </ng-template>
    </nz-empty>
</div>